<div class="min-h-screen p-5 pt-20 text-black">
  <h2 class="text-2xl font-bold mb-6">MFA Settings</h2>


  <div class="bg-white border border-gray-300 rounded shadow overflow-hidden">
    <p-table [value]="mfaSettings" [paginator]="true" [rows]="10" class="p-datatable-striped p-datatable-gridlines">

      <ng-template pTemplate="header">
        <tr class="bg-gray-800 text-white">
          <th class="px-4 py-2">User</th>
          <th class="px-4 py-2">Method</th>
          <th class="px-4 py-2">Secret Key</th>
          <th class="px-4 py-2">Backup Codes</th>
          <th class="px-4 py-2">Enabled</th>
          <th class="px-4 py-2">Action</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-setting>
        <tr class="hover:bg-gray-50 transition">
          <td class="px-4 py-2">{{ setting.user_name }}</td>
          <td class="px-4 py-2">{{ setting.method }}</td>
          <td class="px-4 py-2 truncate max-w-xs">{{ setting.secret_key || '-' }}</td>
          <td class="px-4 py-2 truncate max-w-xs">{{ setting.backup_codes?.join(', ') || '-' }}</td>
          <td class="px-4 py-2">
            <p-tag [value]="setting.enabled ? 'Enabled' : 'Disabled'" [severity]="setting.enabled ? 'success' : 'danger'"></p-tag>
          </td>
          <td class="px-4 py-2">
            <button pButton type="button" class="p-button-sm p-button-warning" (click)="toggleEnabled(setting)">
              Toggle
            </button>
          </td>
        </tr>
      </ng-template>

    </p-table>
  </div>
</div>
