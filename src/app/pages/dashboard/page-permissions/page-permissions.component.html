<p-toast></p-toast>

<div class="min-h-screen pt-20 p-5">
  <h2 class="text-2xl font-bold mb-6 text-gray-800">Permissions List</h2>

  <p-table [value]="permissions" [paginator]="true" [rows]="5" class="p-datatable-striped p-datatable-gridlines">
    <ng-template pTemplate="header">
      <tr class="bg-gray-800 text-white">
        <th>ID</th>
        <th>Code</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-permission>
      <tr class="hover:bg-gray-50 transition">
        <td>{{ permission.id }}</td>
        <td>{{ permission.code }}</td>
        <td>{{ permission.description }}</td>
        <td class="flex gap-2">
          <button pButton type="button" label="Edit" class="p-button-sm p-button-info"
            (click)="openEditDialog(permission)"></button>
          <button pButton type="button" label="Delete" class="p-button-sm p-button-danger"
            (click)="deletePermission(permission)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>



<p-dialog header="{{selectedPermission ? 'Edit Permission' : 'Add Permission'}}" [(visible)]="displayDialog"
  [modal]="true" [closable]="false" [style]="{width:'400px'}" [draggable]="false">


  <div class="p-fluid space-y-5">

    <div class="field flex flex-col">
      <label for="code" class="text-gray-700 font-semibold mb-2">Code</label>
      <input id="code" type="text" pInputText [(ngModel)]="permissionForm.code"
        class="p-inputtext p-component border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-400"
        placeholder="Enter permission code" />
    </div>

    <div class="field flex flex-col">
      <label for="description" class="text-gray-700 font-semibold mb-2">Description</label>
      <input id="description" type="text" pInputText [(ngModel)]="permissionForm.description"
        class="p-inputtext p-component border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-400"
        placeholder="Enter permission description" />
    </div>
  </div>


  <ng-template pTemplate="footer">
    <button pButton type="button" label="Cancel" class="p-button-secondary mr-3" (click)="cancelDialog()"></button>
    <button pButton type="button" label="Save" class="p-button-success" (click)="savePermission()"></button>
  </ng-template>
</p-dialog>


