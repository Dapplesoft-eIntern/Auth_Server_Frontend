
<p-toast></p-toast>

<div class="flex justify-center items-center min-h-screen bg-gray-100 px-4">
  <div class="bg-white shadow-xl rounded-2xl p-8 w-full max-w-md">
    <div class="flex justify-center mb-6">
      <img src="../../../../assets/images/image.png" alt="Logo" class="h-12" />
    </div>

    <h2 class="text-left text-2xl font-bold mb-6 text-gray-800">Sign Up</h2>

    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="space-y-4">


      <input type="text" formControlName="fullName" placeholder="Full Name"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400" />
      @if(signupForm.get('fullName')?.touched && signupForm.get('fullName')?.hasError('required')) {
        <div class="text-red-500 text-sm">Full Name is required</div>
      }


      <input type="text" formControlName="number" placeholder="Mobile Number"
        class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400" />
      @if(signupForm.get('number')?.touched && signupForm.get('number')?.hasError('required')) {
        <div class="text-red-500 text-sm">Mobile Number is required</div>
      }
      @if(signupForm.get('number')?.touched && signupForm.get('number')?.hasError('pattern')) {
        <div class="text-red-500 text-sm">Enter a valid number</div>
      }


      <div class="relative">
        <input [type]="showPassword ? 'text' : 'password'" formControlName="password" placeholder="Password"
          class="w-full border border-gray-300 rounded-lg px-4 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-400" />
        <span class="absolute right-3 top-1/2 -translate-y-1/2 cursor-pointer" (click)="togglePassword()">
          <!-- {{ showPassword ? 'ðŸ™ˆ' : 'ðŸ‘ï¸' }} -->
        </span>
        @if(signupForm.get('password')?.touched && signupForm.get('password')?.hasError('required')) {
          <div class="text-red-500 text-sm">Password is required</div>
        }
      </div>


      <div class="relative">
        <input [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirmPassword"
          placeholder="Confirm Password"
          class="w-full border border-gray-300 rounded-lg px-4 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-400" />
        <span class="absolute right-3 top-1/2 -translate-y-1/2 cursor-pointer" (click)="toggleConfirmPassword()">
          <!-- {{ showConfirmPassword ? '' : '' }} -->
        </span>

        @if(signupForm.get('confirmPassword')?.touched && signupForm.get('confirmPassword')?.hasError('required')) {
          <div class="text-red-500 text-sm">Confirm Password is required</div>
        }
        @if(signupForm.hasError('mismatch') && signupForm.get('confirmPassword')?.touched) {
          <div class="text-red-500 text-sm">Passwords do not match</div>
        }
      </div>


      <div class="flex items-center text-sm">
        <label class="flex items-center space-x-2">
          <input type="checkbox" formControlName="acceptTerms" class="accent-blue-500" />
          <span>I agree to the <a routerLink="/terms" class="text-blue-500 hover:underline">Terms & Conditions</a></span>
        </label>
        @if(signupForm.get('acceptTerms')?.touched && signupForm.get('acceptTerms')?.invalid) {
          <div class="text-red-500 text-sm">You must accept the terms</div>
        }
      </div>

      <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-lg font-semibold">
        Sign Up
      </button>
    </form>

    <p class="text-center text-sm mt-6 text-gray-600">
      Already have an account?
      <a routerLink="" class="text-blue-500 font-medium hover:underline">Login</a>
    </p>
  </div>
</div>
